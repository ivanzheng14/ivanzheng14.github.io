<!DOCTYPE html>
<html>
<head>
  <title>Seat Availability Checker</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
  <h1>Seat Availability Checker</h1>
  <form id="seatForm">
    <label for="term">Term:</label>
    <input type="text" id="term" name="term" required>
    <br>
    <label for="crn">CRN:</label>
    <input type="text" id="crn" name="crn" required>
    <br>
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>
    <br>
    <input type="submit" value="Check Availability">
  </form>

  <div id="result"></div>

  <script>
    $(document).ready(function() {
      $('#seatForm').submit(function(e) {
        e.preventDefault(); // Prevent form submission
        var term = $('#term').val();
        var crn = $('#crn').val();
        var email = $('#email').val();
        checkAvailability(term, crn, email);
        $('#alertMessage').text('Sent'); // Display the alert message on the HTML page
      });

      function checkAvailability(term, crn, email) {
        $.ajax({
          type: 'GET',
          url: 'https://seat-alert.azurewebsites.net/api/TimerTrigger2',
          data: {
            term: term,
            crn: crn,
            email: email
          },
          success: function(data) {
            $('#result').text(data);
          
          },
          error: function(xhr, status, error) {
            console.log(error);
          }
        });
      }
    });
  </script>
</body>
</html>
